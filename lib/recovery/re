import 'package:flutter/material.dart';
import 'package:better_player/better_player.dart';

class VideoPlayerWidget extends StatelessWidget {
  final BetterPlayerController? controller;

  const VideoPlayerWidget({Key? key, this.controller}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return AspectRatio(
      aspectRatio: 16 / 9,
      child: controller != null
          ? BetterPlayer(controller: controller!)
          : const Center(child: CircularProgressIndicator()),
    );
  }
}

import 'package:flutter/material.dart';

class VideoTitleWidget extends StatelessWidget {
  final String? title;

  const VideoTitleWidget({Key? key, this.title}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    if (title == null) return const SizedBox.shrink();

    // 使用正则表达式分离标题和评分，基于“在线观看”关键词
    final cleanTitle = title!;
    final RegExp regex = RegExp(r'^(.*)(在线观看\s*([\d.]+))$');
    final match = regex.firstMatch(cleanTitle);
    final videoTitle = match?.group(1)?.trim() ?? '';
    final rating = match?.group(3) ?? '';

    return Padding(
      padding: const EdgeInsets.symmetric(horizontal: 16.0),
      child: RichText(
        text: TextSpan(
          children: [
            TextSpan(
              text: videoTitle,
              style: const TextStyle(
                fontSize: 24,
                fontWeight: FontWeight.bold,
                color: Colors.black87, // 标题使用深灰色
              ),
            ),
            if (rating.isNotEmpty)
              TextSpan(
                text: ' 评分：$rating',
                style: const TextStyle(
                  fontSize: 18,
                  fontWeight: FontWeight.normal,
                  color: Colors.grey, // 评分使用灰色
                ),
              ),
          ],
        ),
      ),
    );
  }
}
import 'package:flutter/material.dart';

class EpisodeHeaderWidget extends StatelessWidget {
  final int currentEpisodeIndex;

  const EpisodeHeaderWidget({Key? key, required this.currentEpisodeIndex})
      : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.symmetric(horizontal: 16.0),
      child: Row(
        mainAxisAlignment: MainAxisAlignment.spaceBetween,
        children: [
          const Text(
            '播放列表:',
            style: TextStyle(
              fontSize: 20,
              fontWeight: FontWeight.bold,
              color: Colors.deepPurple,
            ),
          ),
          Text(
            '正在播放第 ${currentEpisodeIndex + 1} 集',
            style: const TextStyle(
              fontSize: 16,
              fontWeight: FontWeight.bold,
              color: Colors.black,
            ),
          ),
        ],
      ),
    );
  }
}
